(()=>{var e={};e.id=698,e.ids=[698],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(70260),a=r(28203),l=r(25155),n=r.n(l),i=r(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37461)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\admin\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\admin\\page.js"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70412:(e,t,r)=>{Promise.resolve().then(r.bind(r,37461))},57260:(e,t,r)=>{Promise.resolve().then(r.bind(r,39678))},39678:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(45512),a=r(58009),l=r(79334);let n=()=>{let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),[u,c]=(0,a.useState)(null),[p,x]=(0,a.useState)(!0),[m,h]=(0,a.useState)("nextlevel-classnotes"),[f,g]=(0,a.useState)([]),v=async s=>{if(s.preventDefault(),!e||!n||!r||!m)return;d(!0);let a=new FormData;a.append("file",e),a.append("fileName",r),a.append("folderName",n),a.append("isExistingFolder",p),a.append("bucketName",m);try{let e=await fetch("/api/upload",{method:"POST",body:a}),r=await e.json();r.success?(c({text:"File uploaded successfully!",type:"success"}),t(null),l(""),i("")):c({text:r.error||"Failed to upload file.",type:"error"})}catch(e){c({text:"An error occurred. Please try again.",type:"error"})}finally{d(!1),setTimeout(()=>c(null),3e3)}};return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6 w-96",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-center mb-6",children:"Upload Files to S3 Bucket"}),u&&(0,s.jsx)("div",{className:`mb-4 text-center p-2 rounded ${"success"===u.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u.text}),(0,s.jsxs)("form",{onSubmit:v,className:"flex flex-col items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"folderType",checked:p,onChange:()=>x(!0)}),"Existing Folder"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",name:"folderType",checked:!p,onChange:()=>x(!1)}),"New Folder"]})]}),(0,s.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border rounded text-gray-700",children:[(0,s.jsx)("option",{value:"nextlevel-classnotes",children:"nextlevel-classnotes"}),(0,s.jsx)("option",{value:"ncert-notes-nextlevel",children:"ncert-notes-nextlevel"})]}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Enter file name",className:"w-full px-4 py-2 border rounded text-gray-700"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:`Enter ${p?"existing":"new"} folder name`,className:"w-full px-4 py-2 border rounded text-gray-700"}),(0,s.jsx)("input",{type:"file",onChange:e=>{t(e.target.files[0])},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border file:border-gray-300 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100"}),(0,s.jsx)("button",{type:"submit",disabled:!e||!r||!n||o,className:`w-full py-2 rounded text-white font-semibold ${!o&&e&&r&&n?"bg-red-500 hover:bg-red-600":"bg-gray-400 cursor-not-allowed"}`,children:o?"Uploading...":"Upload"})]}),f.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Existing Folders:"}),(0,s.jsx)("ul",{children:f.map(e=>(0,s.jsx)("li",{className:"text-gray-700",children:e},e))})]})]})})};function i(){let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),m=(0,l.useRouter)(),h=async t=>{t.preventDefault(),c("");try{let t=await fetch("/api/verifyAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminId:e,adminName:r,adminPassword:o})}),s=await t.json();200===t.status&&"verified"===s.status?(c("Verified! Redirecting..."),x(!0),setTimeout(()=>{m.push("/admin")},3e3)):c("Invalid credentials. Please try again.")}catch(e){console.error("Error verifying admin:",e),c("An error occurred. Please try again later.")}};return p?(0,s.jsx)(n,{}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Admin Authentication"}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin ID"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Name"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Password"}),(0,s.jsx)("input",{type:"password",value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Submit"})]}),u&&(0,s.jsx)("p",{className:"mt-4 text-center text-red-600",children:u})]})})}},37461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sahil\\\\Desktop\\\\nextlevel\\\\next_level\\\\src\\\\app\\\\admin\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\admin\\page.js","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,187,182,77,83],()=>r(77776));module.exports=s})();