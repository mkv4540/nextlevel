/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-quiz/route";
exports.ids = ["app/api/generate-quiz/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-quiz%2Froute&page=%2Fapi%2Fgenerate-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-quiz%2Froute.js&appDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-quiz%2Froute&page=%2Fapi%2Fgenerate-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-quiz%2Froute.js&appDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Sayan_Chakraborty_Documents_GitHub_nextlevel_next_level_src_app_api_generate_quiz_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-quiz/route.js */ \"(rsc)/./src/app/api/generate-quiz/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-quiz/route\",\n        pathname: \"/api/generate-quiz\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-quiz/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Sayan Chakraborty\\\\Documents\\\\GitHub\\\\nextlevel\\\\next_level\\\\src\\\\app\\\\api\\\\generate-quiz\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Sayan_Chakraborty_Documents_GitHub_nextlevel_next_level_src_app_api_generate_quiz_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS1xdWl6JTJGcm91dGUmcGFnZT0lMkZhcGklMkZnZW5lcmF0ZS1xdWl6JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZ2VuZXJhdGUtcXVpeiUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTYXlhbiUyMENoYWtyYWJvcnR5JTVDRG9jdW1lbnRzJTVDR2l0SHViJTVDbmV4dGxldmVsJTVDbmV4dF9sZXZlbCU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDU2F5YW4lMjBDaGFrcmFib3J0eSU1Q0RvY3VtZW50cyU1Q0dpdEh1YiU1Q25leHRsZXZlbCU1Q25leHRfbGV2ZWwmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQzhEO0FBQzNJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxTYXlhbiBDaGFrcmFib3J0eVxcXFxEb2N1bWVudHNcXFxcR2l0SHViXFxcXG5leHRsZXZlbFxcXFxuZXh0X2xldmVsXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGdlbmVyYXRlLXF1aXpcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlLXF1aXovcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9nZW5lcmF0ZS1xdWl6XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS1xdWl6L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcU2F5YW4gQ2hha3JhYm9ydHlcXFxcRG9jdW1lbnRzXFxcXEdpdEh1YlxcXFxuZXh0bGV2ZWxcXFxcbmV4dF9sZXZlbFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxnZW5lcmF0ZS1xdWl6XFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-quiz%2Froute&page=%2Fapi%2Fgenerate-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-quiz%2Froute.js&appDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/generate-quiz/route.js":
/*!********************************************!*\
  !*** ./src/app/api/generate-quiz/route.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n// import { OpenAI } from 'openai';\n// const openai = new OpenAI({\n//   apiKey: \"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\", // Use environment variable for security\n// });\n// export async function POST(request) {\n//   try {\n//     // Parse the request body\n//     const body = await request.json();\n//     const { transcript } = body;\n//     if (!transcript) {\n//       return new Response(\n//         JSON.stringify({ error: 'Transcript is required' }),\n//         { status: 400, headers: { 'Content-Type': 'application/json' } }\n//       );\n//     }\n//     // Split transcript into chunks of 2000 words\n//     const words = transcript.split(/\\s+/);\n//     const chunks = [];\n//     const chunkSize = 1500;\n//     for (let i = 0; i < words.length; i += chunkSize) {\n//       chunks.push(words.slice(i, i + chunkSize).join(' '));\n//     }\n//     const allQuestions = [];\n//     const allOptions = [];\n//     // Process each chunk and generate quiz questions\n//     for (const chunk of chunks) {\n//       console.log('Processing chunk:', chunk.slice(0, 100)); // Log first 100 characters of the chunk for debugging\n//       const response = await openai.chat.completions.create({\n//         model: 'gpt-4',\n//         messages: [\n//           {\n//             role: 'system',\n//             content: 'You are a helpful assistant skilled in creating quizzes.',\n//           },\n//           {\n//             role: 'user',\n//             content: `Generate 3 multiple-choice quiz questions in hindi language based on this reference transcript. Do not directly copy questions, but take conceptual references. Provide the questions and options separately. The transcript is: ${chunk}`,\n//           },\n//         ],\n//       });\n//       if (!response || !response.choices || response.choices.length === 0) {\n//         console.error('Invalid API response:', response);\n//         throw new Error('No valid response from OpenAI API');\n//       }\n//       const result = response.choices[0]?.message?.content.trim();\n//       console.log('API Response:', result); // Log the raw API response\n//       if (!result) {\n//         throw new Error('Empty content in OpenAI API response');\n//       }\n//       // Parse the result to extract questions and options\n//       const parsedResult = parseQuizResponse(result);\n//       allQuestions.push(...parsedResult.questions);\n//       allOptions.push(...parsedResult.options);\n//     }\n//     // Return combined quiz questions and options\n//     return new Response(\n//       JSON.stringify({\n//         questions: allQuestions,\n//         options: allOptions,\n//       }),\n//       { status: 200, headers: { 'Content-Type': 'application/json' } }\n//     );\n//   } catch (error) {\n//     console.error('Error generating quiz:', error.message, error.stack);\n//     return new Response(\n//       JSON.stringify({ error: error.message || 'Failed to generate quiz' }),\n//       { status: 500, headers: { 'Content-Type': 'application/json' } }\n//     );\n//   }\n// }\n// /**\n//  * Parses the quiz response from OpenAI API into questions and options.\n//  * @param {string} response - The response string from OpenAI API.\n//  * @returns {object} An object containing questions and options arrays.\n//  */\n// function parseQuizResponse(response) {\n//   const questions = [];\n//   const options = [];\n//   const lines = response.split('\\n');\n//   for (const line of lines) {\n//     if (line.startsWith('Q:')) {\n//       questions.push(line.substring(2).trim());\n//     } else if (line.startsWith('A:')) {\n//       options.push(line.substring(2).trim());\n//     }\n//   }\n//   return { questions, options };\n// }\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI({\n    apiKey: \"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\"\n});\nasync function POST(request) {\n    try {\n        // Parse the request body\n        const body = await request.json();\n        const { transcript } = body;\n        if (!transcript) {\n            return new Response(JSON.stringify({\n                error: 'Transcript is required'\n            }), {\n                status: 400,\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n        }\n        // Split transcript into chunks of 1500 words\n        const words = transcript.split(/\\s+/);\n        const chunks = [];\n        const chunkSize = 1500;\n        for(let i = 0; i < words.length; i += chunkSize){\n            chunks.push(words.slice(i, i + chunkSize).join(' '));\n        }\n        const allQuestions = [];\n        const allOptions = [];\n        const allAnswers = []; // To store correct answers\n        // Process each chunk and generate quiz questions\n        for (const chunk of chunks){\n            console.log('Processing chunk:', chunk.slice(0, 100)); // Log first 100 characters of the chunk for debugging\n            const response = await openai.chat.completions.create({\n                model: 'gpt-4',\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are a helpful assistant skilled in creating quizzes.'\n                    },\n                    {\n                        role: 'user',\n                        content: `Generate 3 multiple-choice quiz questions in Hindi language based on this reference transcript.Do not directly copy questions, but take conceptual references. For each question, provide four options and indicate the correct answer clearly. Format your response as follows: \n          Q: <Question>\n          Options: \n          1. Option 1\n          2. Option 2\n          3. Option 3\n          4. Option 4\n          Answer: <Correct Option (e.g., 1, 2, 3, or 4)>\n          also the questions you generate should be quiet tough \n          The transcript is: ${chunk}`\n                    }\n                ]\n            });\n            if (!response || !response.choices || response.choices.length === 0) {\n                console.error('Invalid API response:', response);\n                throw new Error('No valid response from OpenAI API');\n            }\n            const result = response.choices[0]?.message?.content.trim();\n            console.log('API Response:', result); // Log the raw API response\n            if (!result) {\n                throw new Error('Empty content in OpenAI API response');\n            }\n            // Parse the result to extract questions, options, and answers\n            const parsedResult = parseQuizResponse(result);\n            allQuestions.push(...parsedResult.questions);\n            allOptions.push(...parsedResult.options);\n            allAnswers.push(...parsedResult.answers);\n        }\n        // Return combined quiz questions, options, and answers\n        return new Response(JSON.stringify({\n            questions: allQuestions,\n            options: allOptions,\n            answers: allAnswers\n        }), {\n            status: 200,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    } catch (error) {\n        console.error('Error generating quiz:', error.message, error.stack);\n        return new Response(JSON.stringify({\n            error: error.message || 'Failed to generate quiz'\n        }), {\n            status: 500,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n}\n/**\r\n * Parses the quiz response from OpenAI API into questions, options, and answers.\r\n * @param {string} response - The response string from OpenAI API.\r\n * @returns {object} An object containing questions, options, and answers arrays.\r\n */ function parseQuizResponse(response) {\n    const questions = [];\n    const options = [];\n    const answers = [];\n    const lines = response.split('\\n');\n    let currentQuestion = null;\n    let currentOptions = [];\n    for (const line of lines){\n        if (line.startsWith('Q:')) {\n            if (currentQuestion && currentOptions.length === 4) {\n                questions.push(currentQuestion);\n                options.push(currentOptions);\n            }\n            currentQuestion = line.substring(2).trim();\n            currentOptions = [];\n        } else if (line.startsWith('Options:')) {\n        // Do nothing, it's just a header line\n        } else if (/^\\d\\.\\s/.test(line)) {\n            currentOptions.push(line.substring(3).trim());\n        } else if (line.startsWith('Answer:')) {\n            const answerIndex = parseInt(line.substring(7).trim(), 10);\n            if (answerIndex && currentOptions[answerIndex - 1]) {\n                answers.push(currentOptions[answerIndex - 1]);\n            }\n        }\n    }\n    // Push the last question if it exists\n    if (currentQuestion && currentOptions.length === 4) {\n        questions.push(currentQuestion);\n        options.push(currentOptions);\n    }\n    return {\n        questions,\n        options,\n        answers\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1xdWl6L3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUNBQW1DO0FBRW5DLDhCQUE4QjtBQUM5Qiw2TkFBNk47QUFDN04sTUFBTTtBQUVOLHdDQUF3QztBQUN4QyxVQUFVO0FBQ1YsZ0NBQWdDO0FBQ2hDLHlDQUF5QztBQUN6QyxtQ0FBbUM7QUFFbkMseUJBQXlCO0FBQ3pCLDZCQUE2QjtBQUM3QiwrREFBK0Q7QUFDL0QsMkVBQTJFO0FBQzNFLFdBQVc7QUFDWCxRQUFRO0FBRVIsb0RBQW9EO0FBQ3BELDZDQUE2QztBQUM3Qyx5QkFBeUI7QUFDekIsOEJBQThCO0FBRTlCLDBEQUEwRDtBQUMxRCw4REFBOEQ7QUFDOUQsUUFBUTtBQUVSLCtCQUErQjtBQUMvQiw2QkFBNkI7QUFFN0Isd0RBQXdEO0FBQ3hELG9DQUFvQztBQUNwQyxzSEFBc0g7QUFDdEgsZ0VBQWdFO0FBQ2hFLDBCQUEwQjtBQUMxQixzQkFBc0I7QUFDdEIsY0FBYztBQUNkLDhCQUE4QjtBQUM5QixtRkFBbUY7QUFDbkYsZUFBZTtBQUNmLGNBQWM7QUFDZCw0QkFBNEI7QUFDNUIsb1FBQW9RO0FBQ3BRLGVBQWU7QUFDZixhQUFhO0FBQ2IsWUFBWTtBQUVaLCtFQUErRTtBQUMvRSw0REFBNEQ7QUFDNUQsZ0VBQWdFO0FBQ2hFLFVBQVU7QUFFVixxRUFBcUU7QUFDckUsMEVBQTBFO0FBRTFFLHVCQUF1QjtBQUN2QixtRUFBbUU7QUFDbkUsVUFBVTtBQUVWLDZEQUE2RDtBQUM3RCx3REFBd0Q7QUFDeEQsc0RBQXNEO0FBQ3RELGtEQUFrRDtBQUNsRCxRQUFRO0FBRVIsb0RBQW9EO0FBQ3BELDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekIsbUNBQW1DO0FBQ25DLCtCQUErQjtBQUMvQixZQUFZO0FBQ1oseUVBQXlFO0FBQ3pFLFNBQVM7QUFDVCxzQkFBc0I7QUFDdEIsMkVBQTJFO0FBQzNFLDJCQUEyQjtBQUMzQiwrRUFBK0U7QUFDL0UseUVB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QUFjLENBQUNLLGNBQWMsRUFBRTtZQUM5QztRQUNGO0lBQ0Y7SUFFQSxzQ0FBc0M7SUFDdEMsSUFBSU4sbUJBQW1CQyxlQUFlL0IsTUFBTSxLQUFLLEdBQUc7UUFDbER5QixVQUFVeEIsSUFBSSxDQUFDNkI7UUFDZkosUUFBUXpCLElBQUksQ0FBQzhCO0lBQ2Y7SUFFQSxPQUFPO1FBQUVOO1FBQVdDO1FBQVNDO0lBQVE7QUFDdkMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2F5YW4gQ2hha3JhYm9ydHlcXERvY3VtZW50c1xcR2l0SHViXFxuZXh0bGV2ZWxcXG5leHRfbGV2ZWxcXHNyY1xcYXBwXFxhcGlcXGdlbmVyYXRlLXF1aXpcXHJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IE9wZW5BSSB9IGZyb20gJ29wZW5haSc7XHJcblxyXG4vLyBjb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHtcclxuLy8gICBhcGlLZXk6IFwic2stcHJvai1XS1F3LTMxSmhEM1dfeF9PQ0VGaXkzMGNzUFJFVFN4ZGdoWmRsRWVGOUJrd3pUck4wS2ZTNzhDcXY1WG00UE9hUVNmd1Uxd3VId1QzQmxia0ZKSEdnUzZtcEJYeUtBTDVSZVBmelJRTnpLRi1mS3BUaU9GRVZnSUJtUWs2QVluNVRZankyWFlwMGdKdXp4RGkxT2VIa2dNZ2dIb0FcIiwgLy8gVXNlIGVudmlyb25tZW50IHZhcmlhYmxlIGZvciBzZWN1cml0eVxyXG4vLyB9KTtcclxuXHJcbi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgLy8gUGFyc2UgdGhlIHJlcXVlc3QgYm9keVxyXG4vLyAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4vLyAgICAgY29uc3QgeyB0cmFuc2NyaXB0IH0gPSBib2R5O1xyXG5cclxuLy8gICAgIGlmICghdHJhbnNjcmlwdCkge1xyXG4vLyAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxyXG4vLyAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdUcmFuc2NyaXB0IGlzIHJlcXVpcmVkJyB9KSxcclxuLy8gICAgICAgICB7IHN0YXR1czogNDAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9XHJcbi8vICAgICAgICk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gU3BsaXQgdHJhbnNjcmlwdCBpbnRvIGNodW5rcyBvZiAyMDAwIHdvcmRzXHJcbi8vICAgICBjb25zdCB3b3JkcyA9IHRyYW5zY3JpcHQuc3BsaXQoL1xccysvKTtcclxuLy8gICAgIGNvbnN0IGNodW5rcyA9IFtdO1xyXG4vLyAgICAgY29uc3QgY2h1bmtTaXplID0gMTUwMDtcclxuXHJcbi8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcclxuLy8gICAgICAgY2h1bmtzLnB1c2god29yZHMuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSkuam9pbignICcpKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjb25zdCBhbGxRdWVzdGlvbnMgPSBbXTtcclxuLy8gICAgIGNvbnN0IGFsbE9wdGlvbnMgPSBbXTtcclxuXHJcbi8vICAgICAvLyBQcm9jZXNzIGVhY2ggY2h1bmsgYW5kIGdlbmVyYXRlIHF1aXogcXVlc3Rpb25zXHJcbi8vICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBjaHVuazonLCBjaHVuay5zbGljZSgwLCAxMDApKTsgLy8gTG9nIGZpcnN0IDEwMCBjaGFyYWN0ZXJzIG9mIHRoZSBjaHVuayBmb3IgZGVidWdnaW5nXHJcbi8vICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcclxuLy8gICAgICAgICBtb2RlbDogJ2dwdC00JyxcclxuLy8gICAgICAgICBtZXNzYWdlczogW1xyXG4vLyAgICAgICAgICAge1xyXG4vLyAgICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcclxuLy8gICAgICAgICAgICAgY29udGVudDogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCBza2lsbGVkIGluIGNyZWF0aW5nIHF1aXp6ZXMuJyxcclxuLy8gICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgICB7XHJcbi8vICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcclxuLy8gICAgICAgICAgICAgY29udGVudDogYEdlbmVyYXRlIDMgbXVsdGlwbGUtY2hvaWNlIHF1aXogcXVlc3Rpb25zIGluIGhpbmRpIGxhbmd1YWdlIGJhc2VkIG9uIHRoaXMgcmVmZXJlbmNlIHRyYW5zY3JpcHQuIERvIG5vdCBkaXJlY3RseSBjb3B5IHF1ZXN0aW9ucywgYnV0IHRha2UgY29uY2VwdHVhbCByZWZlcmVuY2VzLiBQcm92aWRlIHRoZSBxdWVzdGlvbnMgYW5kIG9wdGlvbnMgc2VwYXJhdGVseS4gVGhlIHRyYW5zY3JpcHQgaXM6ICR7Y2h1bmt9YCxcclxuLy8gICAgICAgICAgIH0sXHJcbi8vICAgICAgICAgXSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5jaG9pY2VzIHx8IHJlc3BvbnNlLmNob2ljZXMubGVuZ3RoID09PSAwKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBBUEkgcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xyXG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgcmVzcG9uc2UgZnJvbSBPcGVuQUkgQVBJJyk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQudHJpbSgpO1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygnQVBJIFJlc3BvbnNlOicsIHJlc3VsdCk7IC8vIExvZyB0aGUgcmF3IEFQSSByZXNwb25zZVxyXG5cclxuLy8gICAgICAgaWYgKCFyZXN1bHQpIHtcclxuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IGNvbnRlbnQgaW4gT3BlbkFJIEFQSSByZXNwb25zZScpO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICAvLyBQYXJzZSB0aGUgcmVzdWx0IHRvIGV4dHJhY3QgcXVlc3Rpb25zIGFuZCBvcHRpb25zXHJcbi8vICAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IHBhcnNlUXVpelJlc3BvbnNlKHJlc3VsdCk7XHJcbi8vICAgICAgIGFsbFF1ZXN0aW9ucy5wdXNoKC4uLnBhcnNlZFJlc3VsdC5xdWVzdGlvbnMpO1xyXG4vLyAgICAgICBhbGxPcHRpb25zLnB1c2goLi4ucGFyc2VkUmVzdWx0Lm9wdGlvbnMpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFJldHVybiBjb21iaW5lZCBxdWl6IHF1ZXN0aW9ucyBhbmQgb3B0aW9uc1xyXG4vLyAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcclxuLy8gICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4vLyAgICAgICAgIHF1ZXN0aW9uczogYWxsUXVlc3Rpb25zLFxyXG4vLyAgICAgICAgIG9wdGlvbnM6IGFsbE9wdGlvbnMsXHJcbi8vICAgICAgIH0pLFxyXG4vLyAgICAgICB7IHN0YXR1czogMjAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9XHJcbi8vICAgICApO1xyXG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHF1aXo6JywgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xyXG4vLyAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcclxuLy8gICAgICAgSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGdlbmVyYXRlIHF1aXonIH0pLFxyXG4vLyAgICAgICB7IHN0YXR1czogNTAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9XHJcbi8vICAgICApO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gLyoqXHJcbi8vICAqIFBhcnNlcyB0aGUgcXVpeiByZXNwb25zZSBmcm9tIE9wZW5BSSBBUEkgaW50byBxdWVzdGlvbnMgYW5kIG9wdGlvbnMuXHJcbi8vICAqIEBwYXJhbSB7c3RyaW5nfSByZXNwb25zZSAtIFRoZSByZXNwb25zZSBzdHJpbmcgZnJvbSBPcGVuQUkgQVBJLlxyXG4vLyAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyBxdWVzdGlvbnMgYW5kIG9wdGlvbnMgYXJyYXlzLlxyXG4vLyAgKi9cclxuLy8gZnVuY3Rpb24gcGFyc2VRdWl6UmVzcG9uc2UocmVzcG9uc2UpIHtcclxuLy8gICBjb25zdCBxdWVzdGlvbnMgPSBbXTtcclxuLy8gICBjb25zdCBvcHRpb25zID0gW107XHJcblxyXG4vLyAgIGNvbnN0IGxpbmVzID0gcmVzcG9uc2Uuc3BsaXQoJ1xcbicpO1xyXG4vLyAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4vLyAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnUTonKSkge1xyXG4vLyAgICAgICBxdWVzdGlvbnMucHVzaChsaW5lLnN1YnN0cmluZygyKS50cmltKCkpO1xyXG4vLyAgICAgfSBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ0E6JykpIHtcclxuLy8gICAgICAgb3B0aW9ucy5wdXNoKGxpbmUuc3Vic3RyaW5nKDIpLnRyaW0oKSk7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuLy8gICByZXR1cm4geyBxdWVzdGlvbnMsIG9wdGlvbnMgfTtcclxuLy8gfVxyXG5cclxuXHJcbmltcG9ydCB7IE9wZW5BSSB9IGZyb20gJ29wZW5haSc7XHJcblxyXG5jb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHtcclxuICBhcGlLZXk6IFwic2stcHJvai1XS1F3LTMxSmhEM1dfeF9PQ0VGaXkzMGNzUFJFVFN4ZGdoWmRsRWVGOUJrd3pUck4wS2ZTNzhDcXY1WG00UE9hUVNmd1Uxd3VId1QzQmxia0ZKSEdnUzZtcEJYeUtBTDVSZVBmelJRTnpLRi1mS3BUaU9GRVZnSUJtUWs2QVluNVRZankyWFlwMGdKdXp4RGkxT2VIa2dNZ2dIb0FcIiwgLy8gVXNlIGVudmlyb25tZW50IHZhcmlhYmxlIGZvciBzZWN1cml0eVxyXG59KTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gUGFyc2UgdGhlIHJlcXVlc3QgYm9keVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyB0cmFuc2NyaXB0IH0gPSBib2R5O1xyXG5cclxuICAgIGlmICghdHJhbnNjcmlwdCkge1xyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdUcmFuc2NyaXB0IGlzIHJlcXVpcmVkJyB9KSxcclxuICAgICAgICB7IHN0YXR1czogNDAwLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3BsaXQgdHJhbnNjcmlwdCBpbnRvIGNodW5rcyBvZiAxNTAwIHdvcmRzXHJcbiAgICBjb25zdCB3b3JkcyA9IHRyYW5zY3JpcHQuc3BsaXQoL1xccysvKTtcclxuICAgIGNvbnN0IGNodW5rcyA9IFtdO1xyXG4gICAgY29uc3QgY2h1bmtTaXplID0gMTUwMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSBjaHVua1NpemUpIHtcclxuICAgICAgY2h1bmtzLnB1c2god29yZHMuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSkuam9pbignICcpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhbGxRdWVzdGlvbnMgPSBbXTtcclxuICAgIGNvbnN0IGFsbE9wdGlvbnMgPSBbXTtcclxuICAgIGNvbnN0IGFsbEFuc3dlcnMgPSBbXTsgLy8gVG8gc3RvcmUgY29ycmVjdCBhbnN3ZXJzXHJcblxyXG4gICAgLy8gUHJvY2VzcyBlYWNoIGNodW5rIGFuZCBnZW5lcmF0ZSBxdWl6IHF1ZXN0aW9uc1xyXG4gICAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgY2h1bms6JywgY2h1bmsuc2xpY2UoMCwgMTAwKSk7IC8vIExvZyBmaXJzdCAxMDAgY2hhcmFjdGVycyBvZiB0aGUgY2h1bmsgZm9yIGRlYnVnZ2luZ1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6ICdncHQtNCcsXHJcbiAgICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgc2tpbGxlZCBpbiBjcmVhdGluZyBxdWl6emVzLicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiAndXNlcicsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBHZW5lcmF0ZSAzIG11bHRpcGxlLWNob2ljZSBxdWl6IHF1ZXN0aW9ucyBpbiBIaW5kaSBsYW5ndWFnZSBiYXNlZCBvbiB0aGlzIHJlZmVyZW5jZSB0cmFuc2NyaXB0LkRvIG5vdCBkaXJlY3RseSBjb3B5IHF1ZXN0aW9ucywgYnV0IHRha2UgY29uY2VwdHVhbCByZWZlcmVuY2VzLiBGb3IgZWFjaCBxdWVzdGlvbiwgcHJvdmlkZSBmb3VyIG9wdGlvbnMgYW5kIGluZGljYXRlIHRoZSBjb3JyZWN0IGFuc3dlciBjbGVhcmx5LiBGb3JtYXQgeW91ciByZXNwb25zZSBhcyBmb2xsb3dzOiBcclxuICAgICAgICAgIFE6IDxRdWVzdGlvbj5cclxuICAgICAgICAgIE9wdGlvbnM6IFxyXG4gICAgICAgICAgMS4gT3B0aW9uIDFcclxuICAgICAgICAgIDIuIE9wdGlvbiAyXHJcbiAgICAgICAgICAzLiBPcHRpb24gM1xyXG4gICAgICAgICAgNC4gT3B0aW9uIDRcclxuICAgICAgICAgIEFuc3dlcjogPENvcnJlY3QgT3B0aW9uIChlLmcuLCAxLCAyLCAzLCBvciA0KT5cclxuICAgICAgICAgIGFsc28gdGhlIHF1ZXN0aW9ucyB5b3UgZ2VuZXJhdGUgc2hvdWxkIGJlIHF1aWV0IHRvdWdoIFxyXG4gICAgICAgICAgVGhlIHRyYW5zY3JpcHQgaXM6ICR7Y2h1bmt9YCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5jaG9pY2VzIHx8IHJlc3BvbnNlLmNob2ljZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBBUEkgcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgcmVzcG9uc2UgZnJvbSBPcGVuQUkgQVBJJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQudHJpbSgpO1xyXG4gICAgICBjb25zb2xlLmxvZygnQVBJIFJlc3BvbnNlOicsIHJlc3VsdCk7IC8vIExvZyB0aGUgcmF3IEFQSSByZXNwb25zZVxyXG5cclxuICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IGNvbnRlbnQgaW4gT3BlbkFJIEFQSSByZXNwb25zZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYXJzZSB0aGUgcmVzdWx0IHRvIGV4dHJhY3QgcXVlc3Rpb25zLCBvcHRpb25zLCBhbmQgYW5zd2Vyc1xyXG4gICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBwYXJzZVF1aXpSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgICBhbGxRdWVzdGlvbnMucHVzaCguLi5wYXJzZWRSZXN1bHQucXVlc3Rpb25zKTtcclxuICAgICAgYWxsT3B0aW9ucy5wdXNoKC4uLnBhcnNlZFJlc3VsdC5vcHRpb25zKTtcclxuICAgICAgYWxsQW5zd2Vycy5wdXNoKC4uLnBhcnNlZFJlc3VsdC5hbnN3ZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gY29tYmluZWQgcXVpeiBxdWVzdGlvbnMsIG9wdGlvbnMsIGFuZCBhbnN3ZXJzXHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxyXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgcXVlc3Rpb25zOiBhbGxRdWVzdGlvbnMsXHJcbiAgICAgICAgb3B0aW9uczogYWxsT3B0aW9ucyxcclxuICAgICAgICBhbnN3ZXJzOiBhbGxBbnN3ZXJzLFxyXG4gICAgICB9KSxcclxuICAgICAgeyBzdGF0dXM6IDIwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBxdWl6OicsIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZW5lcmF0ZSBxdWl6JyB9KSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0gfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZXMgdGhlIHF1aXogcmVzcG9uc2UgZnJvbSBPcGVuQUkgQVBJIGludG8gcXVlc3Rpb25zLCBvcHRpb25zLCBhbmQgYW5zd2Vycy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIHN0cmluZyBmcm9tIE9wZW5BSSBBUEkuXHJcbiAqIEByZXR1cm5zIHtvYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHF1ZXN0aW9ucywgb3B0aW9ucywgYW5kIGFuc3dlcnMgYXJyYXlzLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VRdWl6UmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICBjb25zdCBxdWVzdGlvbnMgPSBbXTtcclxuICBjb25zdCBvcHRpb25zID0gW107XHJcbiAgY29uc3QgYW5zd2VycyA9IFtdO1xyXG5cclxuICBjb25zdCBsaW5lcyA9IHJlc3BvbnNlLnNwbGl0KCdcXG4nKTtcclxuICBsZXQgY3VycmVudFF1ZXN0aW9uID0gbnVsbDtcclxuICBsZXQgY3VycmVudE9wdGlvbnMgPSBbXTtcclxuXHJcbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XHJcbiAgICBpZiAobGluZS5zdGFydHNXaXRoKCdROicpKSB7XHJcbiAgICAgIGlmIChjdXJyZW50UXVlc3Rpb24gJiYgY3VycmVudE9wdGlvbnMubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgcXVlc3Rpb25zLnB1c2goY3VycmVudFF1ZXN0aW9uKTtcclxuICAgICAgICBvcHRpb25zLnB1c2goY3VycmVudE9wdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICAgIGN1cnJlbnRRdWVzdGlvbiA9IGxpbmUuc3Vic3RyaW5nKDIpLnRyaW0oKTtcclxuICAgICAgY3VycmVudE9wdGlvbnMgPSBbXTtcclxuICAgIH0gZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdPcHRpb25zOicpKSB7XHJcbiAgICAgIC8vIERvIG5vdGhpbmcsIGl0J3MganVzdCBhIGhlYWRlciBsaW5lXHJcbiAgICB9IGVsc2UgaWYgKC9eXFxkXFwuXFxzLy50ZXN0KGxpbmUpKSB7XHJcbiAgICAgIGN1cnJlbnRPcHRpb25zLnB1c2gobGluZS5zdWJzdHJpbmcoMykudHJpbSgpKTtcclxuICAgIH0gZWxzZSBpZiAobGluZS5zdGFydHNXaXRoKCdBbnN3ZXI6JykpIHtcclxuICAgICAgY29uc3QgYW5zd2VySW5kZXggPSBwYXJzZUludChsaW5lLnN1YnN0cmluZyg3KS50cmltKCksIDEwKTtcclxuICAgICAgaWYgKGFuc3dlckluZGV4ICYmIGN1cnJlbnRPcHRpb25zW2Fuc3dlckluZGV4IC0gMV0pIHtcclxuICAgICAgICBhbnN3ZXJzLnB1c2goY3VycmVudE9wdGlvbnNbYW5zd2VySW5kZXggLSAxXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFB1c2ggdGhlIGxhc3QgcXVlc3Rpb24gaWYgaXQgZXhpc3RzXHJcbiAgaWYgKGN1cnJlbnRRdWVzdGlvbiAmJiBjdXJyZW50T3B0aW9ucy5sZW5ndGggPT09IDQpIHtcclxuICAgIHF1ZXN0aW9ucy5wdXNoKGN1cnJlbnRRdWVzdGlvbik7XHJcbiAgICBvcHRpb25zLnB1c2goY3VycmVudE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgcXVlc3Rpb25zLCBvcHRpb25zLCBhbnN3ZXJzIH07XHJcbn0iXSwibmFtZXMiOlsiT3BlbkFJIiwib3BlbmFpIiwiYXBpS2V5IiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInRyYW5zY3JpcHQiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsInN0YXR1cyIsImhlYWRlcnMiLCJ3b3JkcyIsInNwbGl0IiwiY2h1bmtzIiwiY2h1bmtTaXplIiwiaSIsImxlbmd0aCIsInB1c2giLCJzbGljZSIsImpvaW4iLCJhbGxRdWVzdGlvbnMiLCJhbGxPcHRpb25zIiwiYWxsQW5zd2VycyIsImNodW5rIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwiY2hvaWNlcyIsIkVycm9yIiwicmVzdWx0IiwibWVzc2FnZSIsInRyaW0iLCJwYXJzZWRSZXN1bHQiLCJwYXJzZVF1aXpSZXNwb25zZSIsInF1ZXN0aW9ucyIsIm9wdGlvbnMiLCJhbnN3ZXJzIiwic3RhY2siLCJsaW5lcyIsImN1cnJlbnRRdWVzdGlvbiIsImN1cnJlbnRPcHRpb25zIiwibGluZSIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJ0ZXN0IiwiYW5zd2VySW5kZXgiLCJwYXJzZUludCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-quiz/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/formdata-node","vendor-chunks/ms","vendor-chunks/openai","vendor-chunks/form-data-encoder","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/tr46","vendor-chunks/webidl-conversions","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-quiz%2Froute&page=%2Fapi%2Fgenerate-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-quiz%2Froute.js&appDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayan%20Chakraborty%5CDocuments%5CGitHub%5Cnextlevel%5Cnext_level&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();