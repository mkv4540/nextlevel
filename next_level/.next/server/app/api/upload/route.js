(()=>{var e={};e.id=413,e.ids=[413],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>c,serverHooks:()=>f,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{POST:()=>p});var a=r(2706),n=r(8203),o=r(5994),i=r(9187);let u=require("@aws-sdk/client-s3"),l=new u.S3Client({region:"ap-south-1",credentials:{accessKeyId:"AKIAWQUOZH5VCL33PTO6",secretAccessKey:"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"}});async function d(e,t,r){let s=`${r}/`,a=`${s}${t}`;try{let e=new u.HeadObjectCommand({Bucket:"nextlevel-classnotes",Key:s});await l.send(e)}catch(e){if(404===e.$metadata.httpStatusCode){let e=new u.PutObjectCommand({Bucket:"nextlevel-classnotes",Key:s,Body:""});await l.send(e)}else throw e}let n=new u.PutObjectCommand({Bucket:"nextlevel-classnotes",Key:a,Body:e,ContentType:"application/pdf"});return await l.send(n),a}async function p(e){try{let t=await e.formData(),r=t.get("file"),s=t.get("folderName");if(!r||!s)return i.NextResponse.json({error:"Both file and folder name are required"},{status:400});let a=Buffer.from(await r.arrayBuffer()),n=r.name,o=await d(a,n,s);return i.NextResponse.json({success:!0,fileName:o})}catch(e){return console.log(e),i.NextResponse.json({error:"Error uploading file"})}}let c=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},resolvedPagePath:"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\api\\upload\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:x,serverHooks:f}=c;function w(){return(0,o.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:x})}},6487:()=>{},8335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[989,452],()=>r(2613));module.exports=s})();