(()=>{var e={};e.id=602,e.ids=[602],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},71270:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(70260),a=t(28203),l=t(25155),n=t.n(l),i=t(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["quiz",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19053)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62804)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\page.js"],u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/quiz/page",pathname:"/quiz",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85846:(e,s,t)=>{Promise.resolve().then(t.bind(t,19053))},81118:(e,s,t)=>{Promise.resolve().then(t.bind(t,39930))},39930:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(45512),a=t(17269),l=t(38766),n=t(58009),i=t(79334);function o({onSubmit:e}){let[s,t]=(0,n.useState)(""),[a,l]=(0,n.useState)("");return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg w-[400px] shadow-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Enter Your Name"}),(0,r.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!s.trim()){l("Name cannot be empty.");return}l(""),e(s)},children:[(0,r.jsx)("input",{type:"text",placeholder:"Type your name here",className:"w-full p-2 border border-gray-300 rounded text-gray-900 mb-4 focus:outline-none focus:border-gray-400",value:s,onChange:e=>t(e.target.value),"aria-label":"Name input"}),a&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-4",children:a}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",onClick:()=>{t(""),l(""),e(null)},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 text-sm",children:"OK"})]})]})]})})})}let d=({timeLeft:e})=>{let s=(e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60);return{hours:String(s).padStart(2,"0"),minutes:String(t).padStart(2,"0"),seconds:String(e%60).padStart(2,"0")}})(e);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Time Remaining"}),(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:s.hours})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Hours"})]}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-500",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:s.minutes})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Minutes"})]}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-500",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:s.seconds})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Seconds"})]})]})]}),(0,r.jsx)("div",{className:"mt-4 h-2 bg-gray-200 rounded-full",children:(0,r.jsx)("div",{className:`h-full rounded-full transition-all duration-1000 ${e<300?"bg-red-500":"bg-blue-500"}`,style:{width:`${e/3600*100}%`}})})]})};var c=t(19668);let u=function(){let{isLoaded:e,userId:s}=(0,a.d)(),t=(0,i.useRouter)(),u=(0,i.useSearchParams)().get("videoId"),[x,m]=(0,n.useState)({questions:[],answers:[],markedForReview:[],loading:!0,shuffledOptions:[]}),[p,h]=(0,n.useState)(0),[g,b]=(0,n.useState)(3600),[v,f]=(0,n.useState)(!0),[j,w]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[k,C]=(0,n.useState)(""),[S,R]=(0,n.useState)(""),[q,_]=(0,n.useState)(!1),A=e=>{m(s=>({...s,answers:s.answers.map((s,t)=>t===p?e:s)}))},P=()=>{p<x.questions.length-1&&h(e=>e+1)};if(!e||!u)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})});if(!s)return(0,r.jsx)(l.W5,{});if(v)return(0,r.jsx)(o,{onSubmit:e=>{console.log("Submitted Name:",e),e?f(!1):t.push("/")}});if(x.loading)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})});let M=e=>({answered:e.answers.filter(e=>null!==e).length,notAnswered:e.answers.filter(e=>null===e).length,markedForReview:e.markedForReview.filter(e=>e).length,answeredAndMarked:e.answers.filter((s,t)=>null!==s&&e.markedForReview[t]).length,notVisited:e.answers.filter((s,t)=>null===s&&!e.markedForReview[t]).length});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-4",children:[(0,r.jsx)(d,{timeLeft:g}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>N(!0),className:"mt-4 px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Report Question"})})]})}),y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Report Question Problem"}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Reason:"}),(0,r.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"I think the answer is wrong",onChange:e=>C(e.target.value),className:"mr-2"}),"I think the answer is wrong"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"There are multiple correct answers",onChange:e=>C(e.target.value),className:"mr-2"}),"There are multiple correct answers"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"There is a typing error",onChange:e=>C(e.target.value),className:"mr-2"}),"There is a typing error"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"Image or text is not displayed properly",onChange:e=>C(e.target.value),className:"mr-2"}),"Image or comprehension text is not displaying properly"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"Something else",onChange:e=>C(e.target.value),className:"mr-2"}),"Something else (please specify below)"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Additional Information:"}),(0,r.jsx)("textarea",{value:S,onChange:e=>R(e.target.value),className:"w-full border rounded p-2 text-gray-800",rows:"4"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Close"}),(0,r.jsx)("button",{onClick:()=>{console.log("Report Submitted:",{reason:k,additionalInfo:S}),N(!1),C(""),R("")},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Send Report"})]})]})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("section",{className:"md:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Question Number ",p+1]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-gray-700",children:(0,c.decode)(x.questions[p]?.question||"")})}),(0,r.jsx)("div",{className:"space-y-3",children:x.shuffledOptions[p]?.map((e,s)=>r.jsx("button",{onClick:()=>A(s),className:`w-full text-left p-4 rounded border transition-all
                                ${x.answers[p]===s?"border-blue-500 bg-blue-50 text-black":"border-gray-200 hover:border-blue-300 hover:bg-gray-50 text-black"}`,children:c.decode(e)},s))}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>{p>0&&h(e=>e-1)},className:"px-6 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Previous"}),(0,r.jsx)("button",{onClick:P,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Next"}),(0,r.jsx)("button",{onClick:()=>{m(e=>({...e,markedForReview:e.markedForReview.map((e,s)=>s===p?!e:e)})),P()},className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Mark for Review & Next"}),(0,r.jsx)("button",{onClick:()=>{null!==x.answers[p]&&P()},className:"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Save & Next"})]})]})}),(0,r.jsxs)("aside",{className:"bg-white border rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Question Palette"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2 mb-6",children:x.questions.map((e,s)=>{let t=null!==x.answers[s],a=x.markedForReview[s],l=s===p,n="h-10 w-full rounded text-sm font-medium ";return t&&a?n+="bg-purple-500 text-white":t?n+="bg-green-500 text-white":a?n+="bg-blue-500 text-white":l?n+="bg-yellow-500 text-black":n+="bg-gray-200 text-black",(0,r.jsx)("button",{onClick:()=>h(s),className:n,children:s+1},s)})}),(0,r.jsx)("div",{className:"space-y-2 border-t pt-4",children:[{label:"Answered",color:"bg-green-500",count:M(x).answered},{label:"Not Answered",color:"bg-red-500",count:M(x).notAnswered},{label:"Marked for Review",color:"bg-blue-500",count:M(x).markedForReview},{label:"Answered & Marked for Review",color:"bg-purple-500",count:M(x).answeredAndMarked}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:`w-4 h-4 ${e.color} rounded`}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.label,": ",e.count]})]},s))}),(0,r.jsx)("button",{onClick:()=>w(!0),className:"w-full mt-6 py-3 bg-red-500 text-white rounded hover:bg-red-600",children:"Submit Quiz"})]})]})}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Submit Quiz?"}),(0,r.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Answered Questions: ",M(x).answered]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Not Attempted Questions: ",M(x).notAnswered]}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Questions Marked for Review: ",M(x).markedForReview]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{let e={videoId:u,answers:x.answers.map((e,s)=>{if(null===e)return{givenAnswer:null,correctAnswer:x.questions[s].correct_answer,isCorrect:!1};let t=x.shuffledOptions[s][e];return{givenAnswer:t,correctAnswer:x.questions[s].correct_answer,isCorrect:t===x.questions[s].correct_answer}}),questions:x.questions.map(e=>({text:e.question,correct_answer:e.correct_answer})),markedForReview:x.markedForReview,timeSpent:3600-g};localStorage.setItem("quizResults",JSON.stringify(e)),_(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]})]})})]})}},19053:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sahil\\\\Desktop\\\\nextlevel\\\\next_level\\\\src\\\\app\\\\quiz\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\page.js","default")},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[994,187,182,77,668,83],()=>t(71270));module.exports=r})();