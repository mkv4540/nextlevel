(()=>{var e={};e.id=200,e.ids=[200],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},59784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(70260),a=r(28203),l=r(25155),i=r.n(l),n=r(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["quiz",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25423)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\[id]\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\[id]\\page.js"],c={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/quiz/[id]/page",pathname:"/quiz/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10109:(e,t,r)=>{Promise.resolve().then(r.bind(r,25423))},37725:(e,t,r)=>{Promise.resolve().then(r.bind(r,99801))},99801:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(45512),a=r(17269),l=r(79334),i=r(58009);r(54194);let n=({label:e,value:t,onChange:r,type:a="text",placeholder:l,error:i})=>(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsx)("input",{type:a,value:t,onChange:r,placeholder:l,className:`w-full p-2 border rounded text-gray-800 ${i?"border-red-500":"border-gray-300"}`,"aria-invalid":i?"true":"false"}),i&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:i})]}),o=({onSubmit:e})=>{let[t,r]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[u,c]=(0,i.useState)({}),p=(0,i.useRef)(null),m=()=>{let e={};if(t.trim()||(e.name="Name is required."),a.trim()?/\S+@\S+\.\S+/.test(a)||(e.email="Invalid email format."):e.email="Email is required.",o.trim()||(e.upiId="UPI ID is required."),c(e),Object.keys(e).length>0){let e=p.current;return e&&e.focus(),!1}return!0},x=()=>{m()&&e({name:t,email:a,upiId:o})};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-labelledby":"dialog-title",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg",children:[(0,s.jsx)("h3",{id:"dialog-title",className:"text-lg font-bold mb-4 text-gray-800",children:"Enter Your Details"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()},children:[(0,s.jsx)(n,{label:"Name",value:t,onChange:e=>r(e.target.value),placeholder:"Name",error:u.name,ref:p}),(0,s.jsx)(n,{label:"Email ID",type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Email ID",error:u.email}),(0,s.jsx)(n,{label:"UPI ID",value:o,onChange:e=>d(e.target.value),placeholder:"UPI ID",error:u.upiId}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700 focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Submit"})]})]})})};function d(){let{isLoaded:e,userId:t}=(0,a.d)();(0,l.useParams)();let r=(0,l.useRouter)(),[n,d]=(0,i.useState)(null),[u,c]=(0,i.useState)([]),[p,m]=(0,i.useState)(0),[x,h]=(0,i.useState)(null),[g,b]=(0,i.useState)([]),[f,v]=(0,i.useState)(null),[y,j]=(0,i.useState)(!0),[w,N]=(0,i.useState)(!1),[q,S]=(0,i.useState)(!0),[_,C]=(0,i.useState)(null),k=async e=>{try{let e=await fetch("https://opentdb.com/api.php?amount=10&type=multiple"),t=(await e.json()).results.map(e=>({question:e.question,correct_answer:e.correct_answer,options:P([...e.incorrect_answers,e.correct_answer])}));c(t),b(Array(t.length).fill(null)),j(!1)}catch(e){console.error("Error fetching questions:",e),j(!1)}},P=e=>{for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e},z=e=>{h(e);let t=[...g];t[p]=e,b(t)},I=async()=>{let e=0;u.forEach((t,r)=>{t.options[g[r]]===t.correct_answer&&e++}),r.push(`/quiz/result?score=${e}&total=${u.length}&reward=${n.reward}&username=${encodeURIComponent(_.name)}`)};return y&&!q?(0,s.jsx)("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):(0,s.jsxs)("main",{className:"min-h-screen pt-20 pb-8",children:[q&&(0,s.jsx)(o,{onSubmit:e=>{C(e),S(!1),n&&k(n.questions)}}),!q&&(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-xl text-gray-800 font-bold",children:n?.title}),(0,s.jsxs)("div",{className:"text-purple-600 font-medium",children:["Time Left: ",Math.floor(f/60),":",(f%60).toString().padStart(2,"0")]})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("span",{className:"text-gray-800 font-bold",children:["Question ",p+1," of ",u.length]}),(0,s.jsx)("h2",{className:"text-gray-800 font-medium mt-2",children:u[p]?.question})]}),(0,s.jsx)("div",{className:"space-y-3 font-sm text-gray-800",children:u[p]?.options.map((e,t)=>s.jsx("button",{onClick:()=>z(t),className:`w-full text-left p-3 rounded border transition-colors
                    ${x===t?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:e},t))})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{p>0&&(m(e=>e-1),h(g[p-1]))},disabled:0===p,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 disabled:opacity-50",children:"Previous"}),p===u.length-1?(0,s.jsx)("button",{onClick:()=>N(!0),className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Submit Quiz"}):(0,s.jsx)("button",{onClick:()=>{p<u.length-1&&(m(e=>e+1),h(g[p+1]))},className:"px-6 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Next"})]})]}),w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:"Submit Quiz?"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to submit your quiz? You can't change your answers after submission."}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>N(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:I,className:"flex-1 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Submit"})]})]})})]})}},25423:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sahil\\\\Desktop\\\\nextlevel\\\\next_level\\\\src\\\\app\\\\quiz\\\\[id]\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sahil\\Desktop\\nextlevel\\next_level\\src\\app\\quiz\\[id]\\page.js","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,187,182,77,83],()=>r(59784));module.exports=s})();