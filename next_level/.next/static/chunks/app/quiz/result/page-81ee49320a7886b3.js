(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[262],{4635:(e,t,r)=>{Promise.resolve().then(r.bind(r,455))},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},455:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),n=r(6046),i=r(7707);function o(){var e;let t=(0,n.useSearchParams)(),r=(0,n.useRouter)(),{updateBalance:o}=(0,i.A)(),d=parseInt(t.get("score")||"0",10),l=parseInt(t.get("total")||"0",10),c=parseFloat(t.get("reward")||"0"),u=t.get("username")||"Anonymous",[h,x]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=Array.from({length:20},(e,t)=>{if(0===t)return{id:t+1,name:u,score:d};let r=Math.floor(Math.random()*(l+1));return{id:t+1,name:"Player ".concat(t+1),score:r}}).sort((e,t)=>t.score===e.score?e.name===u?-1:1:t.score-e.score).map((e,t)=>{let r=t+1,s=0;return s=1===r?.3*c:2===r?.2*c:3===r?.15*c:r<=10?.25*c*(8-(r-3))/28:.1*c/10,{...e,rank:r,reward:Math.round(s)}});x(e);let t=e.find(e=>e.name===u);t&&!m&&(o(t.reward,"reward"),p(!0))},[u,d,l,c,o,m]);let y=(null===(e=h.find(e=>e.name===u))||void 0===e?void 0:e.reward)||0;return(0,s.jsx)("main",{className:"min-h-screen pt-20",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Quiz Complete!"}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Your Score"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[d,"/",l]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"Reward Earned"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["â‚¹",y]})]})]}),(0,s.jsx)("button",{onClick:()=>r.push("/reward-quiz"),className:"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700",children:"Back to Quizzes"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-6 text-center text-gray-800",children:"Leaderboard"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-2 text-left text-gray-800",children:"Rank"}),(0,s.jsx)("th",{className:"px-4 py-2 text-left text-gray-800",children:"Player"}),(0,s.jsx)("th",{className:"px-4 py-2 text-center text-gray-800",children:"Score"}),(0,s.jsx)("th",{className:"px-4 py-2 text-right text-gray-800",children:"Reward"})]})}),(0,s.jsx)("tbody",{children:h.map(e=>(0,s.jsxs)("tr",{className:"border-t hover:bg-gray-50 text-gray-800 ".concat(e.name===u?"bg-purple-50 text-gray-800":""),children:[(0,s.jsx)("td",{className:"px-4 py-2",children:e.rank}),(0,s.jsx)("td",{className:"px-4 py-2",children:e.name===u?(0,s.jsxs)("span",{className:"font-medium text-purple-600",children:[e.name," (You)"]}):e.name}),(0,s.jsx)("td",{className:"px-4 py-2 text-center",children:e.score}),(0,s.jsxs)("td",{className:"px-4 py-2 text-right text-green-600",children:["â‚¹",e.reward]})]},e.id))})]})})]})]})})}function d(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(o,{})})}},7707:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,BalanceProvider:()=>o});var s=r(5155),a=r(2115),n=r(8195);let i=(0,a.createContext)();function o(e){let{children:t}=e,[r,o]=(0,a.useState)(n.w),d=!1,l=(0,a.useCallback)(function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],d){console.warn("Duplicate balance update prevented.");return}d=!0,o(t=>t+e),setTimeout(()=>{d=!1},50)},[]);return(0,s.jsx)(i.Provider,{value:{balance:r,updateBalance:l},children:t})}function d(){let e=(0,a.useContext)(i);if(!e)throw Error("useBalance must be used within a BalanceProvider");return e}},8195:(e,t,r)=>{"use strict";r.d(t,{t:()=>s,w:()=>a});let s={History:[{id:"history-ancient",title:"Ancient History",description:"Test your knowledge of ancient civilizations",entryCost:20,reward:100,duration:15,questions:10},{id:"history-modern",title:"Modern History",description:"Challenge yourself with modern history questions",entryCost:30,reward:150,duration:15,questions:10}],Geography:[{id:"geography-world",title:"World Geography",description:"Explore world geography concepts",entryCost:25,reward:125,duration:15,questions:10},{id:"geography-india",title:"Indian Geography",description:"Test your knowledge of Indian geography",entryCost:30,reward:150,duration:15,questions:10}],Science:[{id:"science-physics",title:"Physics Quiz",description:"Challenge your physics knowledge",entryCost:40,reward:200,duration:15,questions:10},{id:"science-chemistry",title:"Chemistry Quiz",description:"Test your chemistry concepts",entryCost:40,reward:200,duration:15,questions:10}],Mathematics:[{id:"math-algebra",title:"Algebra Quiz",description:"Solve algebraic problems",entryCost:50,reward:250,duration:15,questions:10},{id:"math-geometry",title:"Geometry Quiz",description:"Test your geometric concepts",entryCost:50,reward:250,duration:15,questions:10}]},a=100}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,120],()=>t(4635)),_N_E=e.O()}]);