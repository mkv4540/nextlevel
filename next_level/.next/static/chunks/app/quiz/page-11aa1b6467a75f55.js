(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{4714:(e,s,t)=>{Promise.resolve().then(t.bind(t,6437))},6046:(e,s,t)=>{"use strict";var r=t(6658);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},6437:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(5155),a=t(2115),l=t(6046);function n(e){let{onSubmit:s}=e,[t,l]=(0,a.useState)(""),[n,i]=(0,a.useState)("");return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg w-[400px] shadow-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Enter Your Name"}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!t.trim()){i("Name cannot be empty.");return}i(""),s(t)},children:[(0,r.jsx)("input",{type:"text",placeholder:"Type your name here",className:"w-full p-2 border border-gray-300 rounded text-gray-900 mb-4 focus:outline-none focus:border-gray-400",value:t,onChange:e=>l(e.target.value),"aria-label":"Name input"}),n&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-4",children:n}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 text-sm",onClick:()=>{l(""),i(""),s(null)},children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 text-sm",children:"OK"})]})]})]})})})}let i=e=>{let{timeLeft:s}=e,t=(e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60);return{hours:String(s).padStart(2,"0"),minutes:String(t).padStart(2,"0"),seconds:String(e%60).padStart(2,"0")}})(s);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Time Remaining"}),(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:t.hours})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Hours"})]}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-500",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:t.minutes})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Minutes"})]}),(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-500",children:":"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 rounded-lg p-3 w-16",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-white",children:t.seconds})}),(0,r.jsx)("span",{className:"text-sm text-gray-600 mt-1",children:"Seconds"})]})]})]}),(0,r.jsx)("div",{className:"mt-4 h-2 bg-gray-200 rounded-full",children:(0,r.jsx)("div",{className:"h-full rounded-full transition-all duration-1000 ".concat(s<300?"bg-red-500":"bg-blue-500"),style:{width:"".concat(s/3600*100,"%")}})})]})};var o=t(926);let c=function(){var e,s;let t=(0,l.useRouter)(),[c,d]=(0,a.useState)({questions:[],answers:[],markedForReview:[],loading:!0,shuffledOptions:[]}),[u,m]=(0,a.useState)(0),[x,h]=(0,a.useState)(3600),[g,b]=(0,a.useState)(!0),[p,f]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(""),[y,k]=(0,a.useState)(""),[S,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g||async function(){try{let e=await fetch("https://opentdb.com/api.php?amount=50&type=multiple"),s=(await e.json()).results,t=s.map(e=>{let s=[...e.incorrect_answers,e.correct_answer];return function(e){let s=e.length,t;for(;0!==s;)t=Math.floor(Math.random()*s),s--,[e[s],e[t]]=[e[t],e[s]];return e}(s)});d({questions:s,answers:Array(s.length).fill(null),markedForReview:Array(s.length).fill(!1),loading:!1,shuffledOptions:t})}catch(e){console.error("Error fetching questions:",e),d(e=>({...e,loading:!1}))}}()},[g]),(0,a.useEffect)(()=>{if(!g&&x>0){let e=setInterval(()=>{h(s=>s<=1?(clearInterval(e),q(),0):s-1)},1e3);return()=>clearInterval(e)}},[g,x]);let C=e=>{d(s=>({...s,answers:s.answers.map((s,t)=>t===u?e:s)}))},_=()=>{u<c.questions.length-1&&m(e=>e+1)},q=()=>{let e={answers:c.answers.map((e,s)=>{let t=c.questions[s];if(null===e)return{givenAnswer:null,correctAnswer:t.correct_answer,isCorrect:!1};let r=c.shuffledOptions[s][e];return{givenAnswer:r,correctAnswer:t.correct_answer,isCorrect:r===t.correct_answer}}),questions:c.questions.map(e=>({text:e.question,correct_answer:e.correct_answer})),markedForReview:c.markedForReview,timeSpent:3600-x};localStorage.setItem("quizResults",JSON.stringify(e)),R(!0)};return((0,a.useEffect)(()=>{S&&t.push("/result")},[S,t]),g)?(0,r.jsx)(n,{onSubmit:e=>{console.log("Submitted Name:",e),e?b(!1):t.push("/")}}):c.loading?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-4",children:[(0,r.jsx)(i,{timeLeft:x}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:()=>N(!0),className:"mt-4 px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Report Question"})})]})}),j&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Report Question Problem"}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Reason:"}),(0,r.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"I think the answer is wrong",onChange:e=>w(e.target.value),className:"mr-2"}),"I think the answer is wrong"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"There are multiple correct answers",onChange:e=>w(e.target.value),className:"mr-2"}),"There are multiple correct answers"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"There is a typing error",onChange:e=>w(e.target.value),className:"mr-2"}),"There is a typing error"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"Image or text is not displayed properly",onChange:e=>w(e.target.value),className:"mr-2"}),"Image or comprehension text is not displaying properly"]}),(0,r.jsxs)("label",{className:"flex item-center",children:[(0,r.jsx)("input",{type:"radio",name:"reportReason",value:"Something else",onChange:e=>w(e.target.value),className:"mr-2"}),"Something else (please specify below)"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Additional Information:"}),(0,r.jsx)("textarea",{value:y,onChange:e=>k(e.target.value),className:"w-full border rounded p-2 text-gray-800",rows:"4"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Close"}),(0,r.jsx)("button",{onClick:()=>{console.log("Report Submitted:",{reason:v,additionalInfo:y}),N(!1),w(""),k("")},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Send Report"})]})]})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("section",{className:"md:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Question Number ",u+1]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-gray-700",children:(0,o.decode)((null===(e=c.questions[u])||void 0===e?void 0:e.question)||"")})}),(0,r.jsx)("div",{className:"space-y-3",children:null===(s=c.shuffledOptions[u])||void 0===s?void 0:s.map((e,s)=>(0,r.jsx)("button",{onClick:()=>C(s),className:"w-full text-left p-4 rounded border transition-all\n                                ".concat(c.answers[u]===s?"border-blue-500 bg-blue-50 text-black":"border-gray-200 hover:border-blue-300 hover:bg-gray-50 text-black"),children:(0,o.decode)(e)},s))}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>{u>0&&m(e=>e-1)},className:"px-6 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Previous"}),(0,r.jsx)("button",{onClick:_,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Next"}),(0,r.jsx)("button",{onClick:()=>{d(e=>({...e,markedForReview:e.markedForReview.map((e,s)=>s===u?!e:e)})),_()},className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Mark for Review & Next"}),(0,r.jsx)("button",{onClick:()=>{null!==c.answers[u]&&_()},className:"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Save & Next"})]})]})}),(0,r.jsxs)("aside",{className:"bg-white border rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Question Palette"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-2 mb-6",children:Array(50).fill(null).map((e,s)=>(0,r.jsx)("button",{onClick:()=>m(s),className:"h-10 w-full rounded text-sm font-medium\n                    ".concat(null!==c.answers[s]&&c.markedForReview[s]?"bg-blue-500 text-white":null!==c.answers[s]?"bg-green-500 text-white":c.markedForReview[s]?"bg-purple-500 text-white":s===u?"bg-yellow-500 text-black":"bg-gray-200 text-black"),children:s+1},s))}),(0,r.jsx)("div",{className:"space-y-2 border-t pt-4",children:[{label:"Answered",color:"bg-green-500",count:c.answers.filter(e=>null!==e).length},{label:"Not Answered",color:"bg-red-500",count:c.answers.filter(e=>null===e&&!c.markedForReview[c.answers.indexOf(e)]).length},{label:"Marked for Review",color:"bg-purple-500",count:c.markedForReview.filter(e=>e).length},{label:"Not Visited",color:"bg-gray-300",count:c.answers.filter((e,s)=>null===e&&!c.markedForReview[s]).length}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 ".concat(e.color," rounded")}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.label,": ",e.count]})]},s))}),(0,r.jsx)("button",{onClick:()=>f(!0),className:"w-full mt-6 py-3 bg-red-500 text-white rounded hover:bg-red-600",children:"Stop This Quiz"})]})]})}),p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Are you sure?"}),(0,r.jsxs)("p",{className:"mb-6 text-gray-600",children:["Your not attempted questions: ",c.answers.filter(e=>null===e).length]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:q,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit Test"})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[926,441,517,120],()=>s(4714)),_N_E=e.O()}]);